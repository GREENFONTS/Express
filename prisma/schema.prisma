generator client {
  provider = "prisma-client-js"
}

datasource mysql {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model comment {
  Comment String
  Email   String?
  id      String    @id @default(cuid())
  Postid  String?
  users   users?  @relation(fields: [Email], references: [Email])
  @@index([Email], name: "Email")
}

model likes {
   Email  String? 
  Postid String @id
  post   posts @relation(fields:[Postid], references:[id])
  users      users?    @relation(fields: [Email], references: [Email])
  @@unique([Email,Postid])
}

model posts {
  Author     String?
  Avatar     String?
  Content    String?
  PostLike   Int?
  Created_at DateTime? @default(now())
  Email      String?
  id         String    @id @default(cuid())
  Title      String?
   users      users?    @relation(fields: [Email], references: [Email])
   Likes      likes[]
  @@index([Email], name: "Email")
}

model profile {
  About      String?
  Email      String  @id
  Hobbies    String?
  Name       String?
  Occupation String?
  Skills     String?
}

model todo {
  Content String?
  Email   String?
  id      String  @id @default(cuid())
  Task    String?
  users   users?  @relation(fields: [Email], references: [Email])
  @@index([Email], name: "Email")
}

model users {
  Avatar    String?
  Email     String    @id
  Name      String?
  followedBy  users[]   @relation("UserFollows", references: [Email])
  following   users[]   @relation("UserFollows", references: [Email])
  Password  String?
  Password2 String?
  comment   comment[]
  posts      posts[]
  todo       todo[]
  Likes      likes[]
}








