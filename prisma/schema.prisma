generator client {
  provider = "prisma-client-js"
  output = "./client"
}

datasource postgresql {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model comment {
  comment String?
  email   String?
  id      String  @id @default(cuid())
  postid  String?
  users   users?  @relation(fields: [email], references: [Email])
  @@index([email], name: "Email")
}

model likes {
  email  String?
  postid String 
  id     String   @id @default(cuid())
  post   posts @relation(fields:[postid], references:[id])
  users      users?    @relation(fields: [email], references: [Email])
}
 
model posts {
  author     String?
  avatar     String?
  content    String?
  created_at DateTime? @default(now())
  email      String?
  id         String    @id @default(cuid())
  postlike   Int?
  title      String?
  users      users?    @relation(fields: [email], references: [Email])
  Likes      likes[]

  @@index([email], name: "Email")
}

model profile {
  about      String?
  email      String  @id
  hobbies    String?
  name       String?
  occupation String?
  skills     String?
}

model todo {
  content String?
  email   String?
  id      String  @id @default(cuid())
  task    String?
  users   users?  @relation(fields: [email], references: [Email])
   @@index([email], name: "Email")
}

model users {
  Avatar    String?
  Email     String    @id
  Name      String?
  followedBy  users[]   @relation("UserFollows", references: [Email])
  following   users[]   @relation("UserFollows", references: [Email])
  Password  String?
  Password2 String?
  comment   comment[]
  posts      posts[]
  todo       todo[]
  Likes      likes[]
}